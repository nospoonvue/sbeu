{"remainingRequest":"/Users/frankkroondijk/Documents/VueDev/rurallivinglab/node_modules/babel-loader/lib/index.js!/Users/frankkroondijk/Documents/VueDev/rurallivinglab/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frankkroondijk/Documents/VueDev/rurallivinglab/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/frankkroondijk/Documents/VueDev/rurallivinglab/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/frankkroondijk/Documents/VueDev/rurallivinglab/src/views/Login.vue","mtime":1590705283815},{"path":"/Users/frankkroondijk/Documents/VueDev/rurallivinglab/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/rurallivinglab/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/rurallivinglab/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/rurallivinglab/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2ZyYW5ra3Jvb25kaWprL0RvY3VtZW50cy9WdWVEZXYvcnVyYWxsaXZpbmdsYWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgU3RhdHVzIGZyb20gJ0AvY29tcG9uZW50cy9TdGF0dXMudnVlJzsKCmZ1bmN0aW9uIGdldERhdGEoX3gsIF94MikgewogIHJldHVybiBfZ2V0RGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0RGF0YSgpIHsKICBfZ2V0RGF0YSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh2aWV3U3RhdHVzLCBhY3Rpb24pIHsKICAgIHZhciBjb25maWcsIGZvcm1EYXRhOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICB2aWV3U3RhdHVzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICB2aWV3U3RhdHVzLmVycm9ycyA9IFtdOwogICAgICAgICAgICBjb25maWcgPSB7CiAgICAgICAgICAgICAgaGVhZGVyczoge30KICAgICAgICAgICAgfTsKICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdhY3Rpb24nLCBhY3Rpb24pOwogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2RhdGEnLCBKU09OLnN0cmluZ2lmeSh2aWV3U3RhdHVzLnVzZXIpKTsgLy9hbGVydCgiYWN0aW9uOiIrYWN0aW9uKyI6dXNlcmluOiIrSlNPTi5zdHJpbmdpZnkodmlld1N0YXR1cy51c2VyKSk7CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3Qodmlld1N0YXR1cy4kYmFzZVVybCwgZm9ybURhdGEsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAvL2FsZXJ0KGJhc2VVcmwpOwogICAgICAgICAgICAgIC8vYWxlcnQoJ3Jlc3BvbnNlOicrSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKQogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9ycykgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmVycm9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLmVycm9ycy5wdXNoKHJlc3BvbnNlLmRhdGEuZXJyb3JzW2ldKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChhY3Rpb24gPT0gJ2RlbGV0ZScpIHsKICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMuY2xlYXJVc2VyKCk7CiAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9IC8vbXVsdGlwbGUgcmVjb3JkIHJldHVybgoKCiAgICAgICAgICAgICAgdmFyIHVzZXJGb3VuZCA9IGZhbHNlOwoKICAgICAgICAgICAgICBpZiAoYWN0aW9uID09ICJyZWFkIiAmJiByZXNwb25zZS5kYXRhLnJlY29yZHNbMF0pIHsKICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMudXNlciA9IHJlc3BvbnNlLmRhdGEucmVjb3Jkc1swXS5maWVsZHM7CiAgICAgICAgICAgICAgICB1c2VyRm91bmQgPSB0cnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSAicmVhZCIgJiYgIXVzZXJGb3VuZCkgewogICAgICAgICAgICAgICAgLy9sb2dpbiBmYWlsZWQKICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMuZXJyb3JzLnB1c2goIkxvZ2luIGZhaWxlZCIpOwogICAgICAgICAgICAgIH0gLy9zaW5nbGUgcmVjb3JkIHJldHVybgoKCiAgICAgICAgICAgICAgaWYgKChhY3Rpb24gPT0gImNyZWF0ZSIgfHwgYWN0aW9uID09ICJ1cGRhdGUiKSAmJiByZXNwb25zZS5kYXRhLmZpZWxkcykgewogICAgICAgICAgICAgICAgdmlld1N0YXR1cy51c2VyID0gcmVzcG9uc2UuZGF0YS5maWVsZHM7CiAgICAgICAgICAgICAgICB1c2VyRm91bmQgPSB0cnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHVzZXJGb3VuZCkgewogICAgICAgICAgICAgICAgLy9zdG9yZSBpbiBicm93c2VyCiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS51c2VyID0gSlNPTi5zdHJpbmdpZnkodmlld1N0YXR1cy51c2VyKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS51c2VyID0gSlNPTi5zdHJpbmdpZnkodmlld1N0YXR1cy51c2VyKTsgLy91cGRhdGUgbG9naW4vcHJvZmlsZSBsYWJlbAoKICAgICAgICAgICAgICAgIGlmICh2aWV3U3RhdHVzLnVzZXIuTmFtZSkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuJykuaW5uZXJIVE1MID0gdmlld1N0YXR1cy51c2VyLk5hbWU7CiAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLnNpZ25VcCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmICh2aWV3U3RhdHVzLnVzZXIuQXZhdGFyVXJsICYmIHZpZXdTdGF0dXMudXNlci5BdmF0YXJVcmwgIT0gIiIpIHsKICAgICAgICAgICAgICAgICAgdmlld1N0YXR1cy5sb2NhbEF2YXRhclVybCA9IHZpZXdTdGF0dXMudXNlci5BdmF0YXJVcmw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vYWxlcnQocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLmVycm9ycy5wdXNoKCJVc2VyIG5vdCBmb3VuZCIpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuJykuaW5uZXJIVE1MID0gIkxvZ2luIjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZpZXdTdGF0dXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7IC8vYWxlcnQoZXJyb3IpOwoKICAgICAgICAgICAgICB2aWV3U3RhdHVzLmVycm9ycy5wdXNoKCJBbiBlcnJvciBvY2NvcmVkIik7CiAgICAgICAgICAgICAgdmlld1N0YXR1cy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9nZXREYXRhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibG9naW4iLAogIGNvbXBvbmVudHM6IHsKICAgIFN0YXR1czogU3RhdHVzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YTogbnVsbCwKICAgICAgc3RhdHVzOiAiIiwKICAgICAgc2lnblVwOiBmYWxzZSwKICAgICAgdGFibGU6ICJVc2VyIiwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGRlZmF1bHRBdmF0YXJVcmw6ICJodHRwczovL2RyaXZlLmdvb2dsZS5jb20vdWM/aWQ9MURQTDZXRnZtaWhMeG9fcERPY1paZy1nQkhBZ3pKTFoyIiwKICAgICAgbG9jYWxBdmF0YXJVcmw6ICJodHRwczovL2RyaXZlLmdvb2dsZS5jb20vdWM/aWQ9MURQTDZXRnZtaWhMeG9fcERPY1paZy1nQkhBZ3pKTFoyIiwKICAgICAgdXNlcjoge30sCiAgICAgIGVycm9yczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMb2dpbjogZnVuY3Rpb24gZ2V0TG9naW4oKSB7CiAgICAgIGdldERhdGEodGhpcywgJ3JlYWQnKTsKICAgIH0sCiAgICBsb2dPdXQ6IGZ1bmN0aW9uIGxvZ091dCgpIHsKICAgICAgdGhpcy5jbGVhclVzZXIoKTsKICAgIH0sCiAgICBhcHBseUZvckFjY291bnQ6IGZ1bmN0aW9uIGFwcGx5Rm9yQWNjb3VudCgpIHsKICAgICAgdGhpcy5zaWduVXAgPSB0cnVlOwogICAgfSwKICAgIGdldEFjY291bnQ6IGZ1bmN0aW9uIGdldEFjY291bnQoKSB7CiAgICAgIGdldERhdGEodGhpcywgJ2NyZWF0ZScpOwogICAgfSwKICAgIGNsZWFyVXNlcjogZnVuY3Rpb24gY2xlYXJVc2VyKCkgewogICAgICB0aGlzLnVzZXIgPSB7fTsKICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bicpLmlubmVySFRNTCA9ICJMb2cgaW4iOwogICAgICB0aGlzLmxvY2FsQXZhdGFyVXJsID0gdGhpcy5kZWZhdWx0QXZhdGFyVXJsOwogICAgfSwKICAgIHVwZGF0ZVByb2ZpbGU6IGZ1bmN0aW9uIHVwZGF0ZVByb2ZpbGUoKSB7CiAgICAgIGdldERhdGEodGhpcywgJ3VwZGF0ZScpOwogICAgfSwKICAgIGRlbGV0ZVByb2ZpbGU6IGZ1bmN0aW9uIGRlbGV0ZVByb2ZpbGUoKSB7CiAgICAgIGlmIChjb25maXJtKCJEbyB5b3UgcmVhbGx5IHdhbnQgdG8gcmVtb3ZlIHlvdXIgYWNjb3VudD8gVGhpcyBjYW4gbm90IGJlIHVuZG9uZSEiKSkgewogICAgICAgIGdldERhdGEodGhpcywgJ2RlbGV0ZScpOwogICAgICB9CiAgICB9LAogICAgdmFsaWRhdGVJbnB1dDogZnVuY3Rpb24gdmFsaWRhdGVJbnB1dCgpIHsvL3RvZG8KICAgICAgLy9pZih0aGlzLnVzZXIuTmFtZSkKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmIChsb2NhbFN0b3JhZ2UudXNlcikgewogICAgICB0aGlzLnVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS51c2VyKTsKICAgICAgaWYgKHRoaXMudXNlci5BdmF0YXJVcmwgJiYgdGhpcy51c2VyLkF2YXRhclVybC5sZW5ndGggPiA1KSB0aGlzLmxvY2FsQXZhdGFyVXJsID0gdGhpcy51c2VyLkF2YXRhclVybDsKICAgICAgaWYgKHRoaXMudXNlci5OYW1lKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW4nKS5pbm5lckhUTUwgPSB0aGlzLnVzZXIuTmFtZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,yBAAA;;SAGA,O;;;;;qEAAA,iBAAA,UAAA,EAAA,MAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,YAAA,UAAA,CAAA,OAAA,GAAA,IAAA;AACA,YAAA,UAAA,CAAA,MAAA,GAAA,EAAA;AACA,YAAA,MALA,GAMA;AACA,cAAA,OAAA,EACA;AAFA,aANA;AAYA,YAAA,QAZA,GAYA,IAAA,QAAA,EAZA;AAaA,YAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAAA,MAAA;AACA,YAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,CAAA,UAAA,CAAA,IAAA,CAAA,EAdA,CAgBA;;AAhBA;AAAA,mBAkBA,KAAA,CAAA,IAAA,CAAA,UAAA,CAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EACA,IADA,CACA,UAAA,QAAA,EACA;AACA;AACA;AACA,kBAAA,QAAA,CAAA,IAAA,CAAA,MAAA,EACA;AACA,qBAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,QAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EACA;AACA,kBAAA,UAAA,CAAA,MAAA,CAAA,IAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AACA;;AACA,gBAAA,UAAA,CAAA,OAAA,GAAA,KAAA;AACA;AACA;;AACA,kBAAA,MAAA,IAAA,QAAA,EACA;AACA,gBAAA,UAAA,CAAA,SAAA;AACA,gBAAA,UAAA,CAAA,OAAA,GAAA,KAAA;AACA;AACA,eAjBA,CAkBA;;;AACA,kBAAA,SAAA,GAAA,KAAA;;AACA,kBAAA,MAAA,IAAA,MAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EACA;AACA,gBAAA,UAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA,EAAA,MAAA;AACA,gBAAA,SAAA,GAAA,IAAA;AACA;;AACA,kBAAA,MAAA,IAAA,MAAA,IAAA,CAAA,SAAA,EACA;AACA;AACA,gBAAA,UAAA,CAAA,MAAA,CAAA,IAAA,CAAA,cAAA;AACA,eA7BA,CA+BA;;;AACA,kBAAA,CAAA,MAAA,IAAA,QAAA,IAAA,MAAA,IAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,MAAA,EACA;AACA,gBAAA,UAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AACA,gBAAA,SAAA,GAAA,IAAA;AACA;;AAEA,kBAAA,SAAA,EACA;AACA;AACA,gBAAA,cAAA,CAAA,IAAA,GAAA,IAAA,CAAA,SAAA,CAAA,UAAA,CAAA,IAAA,CAAA;AACA,gBAAA,YAAA,CAAA,IAAA,GAAA,IAAA,CAAA,SAAA,CAAA,UAAA,CAAA,IAAA,CAAA,CAHA,CAIA;;AACA,oBAAA,UAAA,CAAA,IAAA,CAAA,IAAA,EAAA,QAAA,CAAA,cAAA,CAAA,IAAA,EAAA,SAAA,GAAA,UAAA,CAAA,IAAA,CAAA,IAAA;AACA,gBAAA,UAAA,CAAA,MAAA,GAAA,KAAA;;AACA,oBAAA,UAAA,CAAA,IAAA,CAAA,SAAA,IAAA,UAAA,CAAA,IAAA,CAAA,SAAA,IAAA,EAAA,EACA;AACA,kBAAA,UAAA,CAAA,cAAA,GAAA,UAAA,CAAA,IAAA,CAAA,SAAA;AACA;AACA,eAZA,MAcA;AACA;AACA,gBAAA,UAAA,CAAA,MAAA,CAAA,IAAA,CAAA,gBAAA;AACA,gBAAA,QAAA,CAAA,cAAA,CAAA,IAAA,EAAA,SAAA,GAAA,OAAA;AACA;;AAEA,cAAA,UAAA,CAAA,OAAA,GAAA,KAAA;AAEA,aA9DA,EA8DA,KA9DA,CAgEA,UAAA,KAAA,EACA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EADA,CAEA;;AACA,cAAA,UAAA,CAAA,MAAA,CAAA,IAAA,CAAA,kBAAA;AACA,cAAA,UAAA,CAAA,OAAA,GAAA,KAAA;AACA,aAtEA,CAlBA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AA4FA,eACA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GAFA;AAIA,EAAA,IAJA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,KAHA;AAIA,MAAA,KAAA,EAAA,MAJA;AAKA,MAAA,OAAA,EAAA,KALA;AAMA,MAAA,gBAAA,EAAA,kEANA;AAOA,MAAA,cAAA,EAAA,kEAPA;AAQA,MAAA,IAAA,EAAA,EARA;AASA,MAAA,MAAA,EAAA;AATA,KAAA;AAWA,GAjBA;AAkBA,EAAA,OAAA,EACA;AACA,IAAA,QAAA,EAAA,oBACA;AACA,MAAA,OAAA,CAAA,IAAA,EAAA,MAAA,CAAA;AACA,KAJA;AAKA,IAAA,MAAA,EAAA,kBACA;AACA,WAAA,SAAA;AAEA,KATA;AAUA,IAAA,eAAA,EAAA,2BACA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,KAbA;AAcA,IAAA,UAAA,EAAA,sBACA;AACA,MAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA;AACA,KAjBA;AAkBA,IAAA,SAAA,EAAA,qBACA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,MAAA,YAAA,CAAA,KAAA;AACA,MAAA,cAAA,CAAA,KAAA;AACA,MAAA,QAAA,CAAA,cAAA,CAAA,IAAA,EAAA,SAAA,GAAA,QAAA;AACA,WAAA,cAAA,GAAA,KAAA,gBAAA;AAEA,KA1BA;AA2BA,IAAA,aAAA,EAAA,yBACA;AAEA,MAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA;AAEA,KAhCA;AAiCA,IAAA,aAAA,EAAA,yBACA;AACA,UAAA,OAAA,CAAA,oEAAA,CAAA,EACA;AACA,QAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA;AACA;AAEA,KAxCA;AAyCA,IAAA,aAAA,EAAA,yBACA,CACA;AACA;AACA;AA7CA,GAnBA;AAkEA,EAAA,QAAA,EAAA,EAlEA;AAqEA,EAAA,OArEA,qBAsEA,CAEA,CAxEA;AA0EA,EAAA,OA1EA,qBA2EA;AAEA,QAAA,YAAA,CAAA,IAAA,EACA;AACA,WAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA;AAEA,UAAA,KAAA,IAAA,CAAA,SAAA,IAAA,KAAA,IAAA,CAAA,SAAA,CAAA,MAAA,GAAA,CAAA,EAAA,KAAA,cAAA,GAAA,KAAA,IAAA,CAAA,SAAA;AACA,UAAA,KAAA,IAAA,CAAA,IAAA,EAAA,QAAA,CAAA,cAAA,CAAA,IAAA,EAAA,SAAA,GAAA,KAAA,IAAA,CAAA,IAAA;AACA;AAEA;AArFA,CADA","sourcesContent":["<template>\n <div id=\"login\">\n    <section id=\"banner\" class=\"banner\">\n<!--<Error class=\"\" v-bind:img=\"status\" v-show=\"errors.length>0\" />-->\n\n \n        <div class=\"content\" v-if=\"user && user.Token && !signUp\">\n            <h1>Profile</h1>\n            <p><input type=\"text\" disabled name=\"loggedInName\" id=\"loggedInUserName\" value=\"\" placeholder=\"Name\" autocomplete=\"off\" v-model=\"user.Username\"></p>\n            <p><input type=\"text\" name=\"loggedInName\" id=\"loggedInName\" value=\"\" placeholder=\"First name\" autocomplete=\"off\"  v-model=\"user.Name\"></p>\n            <p><input type=\"text\" name=\"loggedInLastName\" id=\"loggedInLastName\" value=\"\" placeholder=\"Last name\" v-model=\"user.LastName\"></p>\n            <p><input type=\"email\" name=\"Email\" id=\"emailProfile\" value=\"\" placeholder=\"E-mail\" v-model=\"user.Email\"></p>\n            <p><input type=\"url\" name=\"AvatarUrl\" id=\"avatarUrl\" value=\"\" placeholder=\"Avatar Url\" v-model=\"user.AvatarUrl\" ></p>\n            <ul class=\"actions\">\n                <li><a href=\"#\" class=\"button primary\" v-on:click=\"updateProfile()\">Update</a></li>\n                <li><a href=\"#\" class=\"button\" v-on:click=\"logOut()\">Log out</a></li>\n                <li><a href=\"#\" class=\"button\" v-on:click=\"deleteProfile()\">Delete profile</a></li>\n            </ul>\n        </div>\n\n        <div class=\"content\" v-if=\"!user || !user.Token && !signUp\">\n\n                <h1>Login</h1>\n                <p><input type=\"text\" name=\"loginName\" id=\"loginName\" value=\"\" placeholder=\"Username\" v-model=\"user.Username\"></p>\n                <p><input type=\"password\" name=\"Password\" id=\"Password\" value=\"\" placeholder=\"Password\" v-model=\"user.Password\"></p>\n                <ul class=\"actions\">\n                    <li><a href=\"#\" class=\"button primary\" v-on:click=\"getLogin()\">Login</a></li>\n                    <li><a href=\"#\" class=\"button\" v-on:click=\"applyForAccount()\">Sign up</a></li>\n                </ul>\n        </div>\n\n        <div class=\"content\" v-if=\"signUp\">\n\n                <h1>Sign up</h1>\n                <p><input type=\"text\" name=\"loginName\" id=\"loginName\" value=\"\" placeholder=\"Username\" v-model=\"user.Username\"></p>\n                <p><input type=\"text\" name=\"loggedInName\" id=\"loggedInName\" value=\"\" placeholder=\"First name\" v-model=\"user.Name\"></p>\n                <p><input type=\"text\" name=\"loggedInLastName\" id=\"loggedInLastName\" value=\"\" placeholder=\"Last name\" v-model=\"user.LastName\"></p>\n                \n                <p><input type=\"password\" name=\"Password\" id=\"Password\" value=\"\" placeholder=\"Password\" v-model=\"user.Password\"></p>\n                <p><input type=\"email\" name=\"Email\" id=\"email\" value=\"\" placeholder=\"E-mail\" v-model=\"user.Email\"></p>\n                <ul class=\"actions\">\n                    <li><a href=\"#\" class=\"button primary\" v-on:click=\"getAccount()\">Sign up</a></li>\n                    <li><a href=\"#\" class=\"button\" v-on:click=\"signUp=false\">Login</a></li>\n                </ul>\n                \n        </div>\n\n        <span class=\"image object\" v-if=\"errors.length ==0\">\n            <img v-bind:src=\"localAvatarUrl\" v-bind:alt=\"user.Name\" />\n        </span>\n        <span  class=\"image object\" v-show=\"errors.length>0\">\n            <ul id=\"err\" class=\"\" v-for=\"item in errors\" :key=\"item.index\" style=\"color:red;margin: 0 0 0 0\">\n                <li>{{ item }}</li>\n            </ul>   \n        </span>\n    </section>\n<Status class=\"StatusShow\" v-bind:img=\"status\" v-show=\"loading\" />        \n\n</div>\n\n</template>\n\n\n<style >\n\n</style>\n\n<script>\nimport axios from 'axios';\nimport Status from '@/components/Status.vue'\n\n\nasync function getData(viewStatus,action)\n{\n\n    viewStatus.loading = true;\n    viewStatus.errors = [];\n    const config = \n    {\n        headers: \n        {\n        }\n    }\n\n    const formData = new FormData();\n    formData.append('action', action);\n    formData.append('data', JSON.stringify(viewStatus.user));\n\n    //alert(\"action:\"+action+\":userin:\"+JSON.stringify(viewStatus.user));\n\n    await axios.post (viewStatus.$baseUrl, formData, config)\n            .then(response => \n            {\n                //alert(baseUrl);\n                //alert('response:'+JSON.stringify(response))\n                if(response.data.errors)\n                {\n                    for(var i=0; i<response.data.errors.length;i++)\n                    {\n                        viewStatus.errors.push(response.data.errors[i]);\n                    }\n                    viewStatus.loading = false;\n                    return;\n                }\n                if(action == 'delete')\n                {\n                    viewStatus.clearUser();\n                    viewStatus.loading = false;\n                    return;\n                }\n                //multiple record return\n                var userFound = false;\n                if(action == \"read\" && response.data.records[0])\n                {\n                    viewStatus.user = response.data.records[0].fields;\n                    userFound = true;\n                }\n                if(action == \"read\" && !userFound)\n                {\n                    //login failed\n                    viewStatus.errors.push(\"Login failed\");\n                }\n\n                //single record return\n                if((action == \"create\" || action == \"update\") && response.data.fields)\n                {\n                    viewStatus.user = response.data.fields;  \n                    userFound = true;\n                } \n\n                if(userFound)\n                {\n                    //store in browser\n                    sessionStorage.user = JSON.stringify(viewStatus.user)\n                    localStorage.user = JSON.stringify(viewStatus.user)\n                    //update login/profile label\n                    if(viewStatus.user.Name) document.getElementById('un').innerHTML = viewStatus.user.Name;\n                    viewStatus.signUp = false;\n                    if(viewStatus.user.AvatarUrl && viewStatus.user.AvatarUrl != \"\")\n                    {\n                        viewStatus.localAvatarUrl = viewStatus.user.AvatarUrl;\n                    }\n                }\n                else\n                {\n                    //alert(response.data);\n                    viewStatus.errors.push(\"User not found\");\n                    document.getElementById('un').innerHTML = \"Login\";\n                }\n\n                viewStatus.loading = false;\n\n            }).catch\n            (\n                function (error) \n                {\n                    console.log(error);\n                    //alert(error);\n                    viewStatus.errors.push(\"An error occored\");\n                    viewStatus.loading = false;\n                }\n            )\n}\n\nexport default \n{\n    name: \"login\",\n    components: {Status},\n\n    data() \n    {\n    return {\n        data: null,\n        status: \"\",\n        signUp: false,\n        table: \"User\",\n        loading: false,\n        defaultAvatarUrl: \"https://drive.google.com/uc?id=1DPL6WFvmihLxo_pDOcZZg-gBHAgzJLZ2\",\n        localAvatarUrl: \"https://drive.google.com/uc?id=1DPL6WFvmihLxo_pDOcZZg-gBHAgzJLZ2\",\n        user: {},\n        errors: []\n        }\n    },\n    methods:\n    {\n        getLogin: function()\n        {\n            getData(this, 'read');\n        },\n        logOut: function()\n        {\n            this.clearUser();\n            \n        },\n        applyForAccount: function()\n        {\n            this.signUp = true;\n        },\n        getAccount: function()\n        {\n            getData(this, 'create');\n        },\n        clearUser: function()\n        {\n            this.user = {};\n            localStorage.clear();\n            sessionStorage.clear();\n            document.getElementById('un').innerHTML = \"Log in\";\n            this.localAvatarUrl = this.defaultAvatarUrl;\n\n        },\n        updateProfile: function()\n        {\n        \n            getData(this, 'update');\n            \n        },\n        deleteProfile: function()\n        {\n            if(confirm(\"Do you really want to remove your account? This can not be undone!\"))\n            {\n                getData(this, 'delete');\n            }\n            \n        },\n        validateInput: function()\n        {\n            //todo\n            //if(this.user.Name)\n        }\n    },\n    computed: {\n\n  },\n  mounted()\n  {\n     \n  },\n  \n    created() \n    {\n\n     \tif(localStorage.user)\n        {\n            this.user = JSON.parse(localStorage.user);\n            \n            if(this.user.AvatarUrl && this.user.AvatarUrl.length >5) this.localAvatarUrl = this.user.AvatarUrl;\n            if(this.user.Name) document.getElementById('un').innerHTML = this.user.Name;\n        }\n  \n    }\n}\n\n\n</script>\n\n\n"],"sourceRoot":"src/views"}]}