{"remainingRequest":"/Users/frankkroondijk/Documents/VueDev/noSpoon/node_modules/thread-loader/dist/cjs.js!/Users/frankkroondijk/Documents/VueDev/noSpoon/node_modules/babel-loader/lib/index.js!/Users/frankkroondijk/Documents/VueDev/noSpoon/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frankkroondijk/Documents/VueDev/noSpoon/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/frankkroondijk/Documents/VueDev/noSpoon/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/frankkroondijk/Documents/VueDev/noSpoon/src/views/Login.vue","mtime":1602946537672},{"path":"/Users/frankkroondijk/Documents/VueDev/noSpoon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/noSpoon/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/noSpoon/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/noSpoon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/noSpoon/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2ZyYW5ra3Jvb25kaWprL0RvY3VtZW50cy9WdWVEZXYvbm9TcG9vbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBTdGF0dXMgZnJvbSAnQC9jb21wb25lbnRzL1N0YXR1cy52dWUnOwoKZnVuY3Rpb24gZ2V0RGF0YShfeCwgX3gyKSB7CiAgcmV0dXJuIF9nZXREYXRhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9nZXREYXRhKCkgewogIF9nZXREYXRhID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZpZXdTdGF0dXMsIGFjdGlvbikgewogICAgdmFyIGNvbmZpZywgZm9ybURhdGE7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHZpZXdTdGF0dXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIHZpZXdTdGF0dXMuZXJyb3JzID0gW107CiAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7fQogICAgICAgICAgICB9OwogICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FjdGlvbicsIGFjdGlvbik7CiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZGF0YScsIEpTT04uc3RyaW5naWZ5KHZpZXdTdGF0dXMudXNlcikpOyAvL2FsZXJ0KCJhY3Rpb246IithY3Rpb24rIjp1c2VyaW46IitKU09OLnN0cmluZ2lmeSh2aWV3U3RhdHVzLnVzZXIpKTsKCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCh2aWV3U3RhdHVzLiRiYXNlVXJsLCBmb3JtRGF0YSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIC8vYWxlcnQoYmFzZVVybCk7CiAgICAgICAgICAgICAgLy9hbGVydCgncmVzcG9uc2U6JytKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JzKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEuZXJyb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMuZXJyb3JzLnB1c2gocmVzcG9uc2UuZGF0YS5lcnJvcnNbaV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSAnZGVsZXRlJykgewogICAgICAgICAgICAgICAgdmlld1N0YXR1cy5jbGVhclVzZXIoKTsKICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0gLy9tdWx0aXBsZSByZWNvcmQgcmV0dXJuCgoKICAgICAgICAgICAgICB2YXIgdXNlckZvdW5kID0gZmFsc2U7CgogICAgICAgICAgICAgIGlmIChhY3Rpb24gPT0gInJlYWQiICYmIHJlc3BvbnNlLmRhdGEucmVjb3Jkc1swXSkgewogICAgICAgICAgICAgICAgdmlld1N0YXR1cy51c2VyID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzWzBdLmZpZWxkczsKICAgICAgICAgICAgICAgIHVzZXJGb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoYWN0aW9uID09ICJyZWFkIiAmJiAhdXNlckZvdW5kKSB7CiAgICAgICAgICAgICAgICAvL2xvZ2luIGZhaWxlZAogICAgICAgICAgICAgICAgdmlld1N0YXR1cy5lcnJvcnMucHVzaCgiTG9naW4gZmFpbGVkIik7CiAgICAgICAgICAgICAgfSAvL3NpbmdsZSByZWNvcmQgcmV0dXJuCgoKICAgICAgICAgICAgICBpZiAoKGFjdGlvbiA9PSAiY3JlYXRlIiB8fCBhY3Rpb24gPT0gInVwZGF0ZSIpICYmIHJlc3BvbnNlLmRhdGEuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLnVzZXIgPSByZXNwb25zZS5kYXRhLmZpZWxkczsKICAgICAgICAgICAgICAgIHVzZXJGb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAodXNlckZvdW5kKSB7CiAgICAgICAgICAgICAgICAvL3N0b3JlIGluIGJyb3dzZXIKICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnVzZXIgPSBKU09OLnN0cmluZ2lmeSh2aWV3U3RhdHVzLnVzZXIpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnVzZXIgPSBKU09OLnN0cmluZ2lmeSh2aWV3U3RhdHVzLnVzZXIpOyAvL3VwZGF0ZSBsb2dpbi9wcm9maWxlIGxhYmVsCgogICAgICAgICAgICAgICAgaWYgKHZpZXdTdGF0dXMudXNlci5OYW1lKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW4nKS5pbm5lckhUTUwgPSB2aWV3U3RhdHVzLnVzZXIuTmFtZTsKICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMuc2lnblVwID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKHZpZXdTdGF0dXMudXNlci5BdmF0YXJVcmwgJiYgdmlld1N0YXR1cy51c2VyLkF2YXRhclVybCAhPSAiIikgewogICAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLmxvY2FsQXZhdGFyVXJsID0gdmlld1N0YXR1cy51c2VyLkF2YXRhclVybDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy9hbGVydChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMuZXJyb3JzLnB1c2goIlVzZXIgbm90IGZvdW5kIik7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW4nKS5pbm5lckhUTUwgPSAiTG9naW4iOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdmlld1N0YXR1cy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsgLy9hbGVydChlcnJvcik7CgogICAgICAgICAgICAgIHZpZXdTdGF0dXMuZXJyb3JzLnB1c2goIkFuIGVycm9yIG9jY29yZWQiKTsKICAgICAgICAgICAgICB2aWV3U3RhdHVzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2dldERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbiIsCiAgY29tcG9uZW50czogewogICAgU3RhdHVzOiBTdGF0dXMKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBudWxsLAogICAgICBzdGF0dXM6ICIiLAogICAgICBzaWduVXA6IGZhbHNlLAogICAgICB0YWJsZTogIlVzZXIiLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZGVmYXVsdEF2YXRhclVybDogImh0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS91Yz9pZD0xRFBMNldGdm1paEx4b19wRE9jWlpnLWdCSEFnekpMWjIiLAogICAgICBsb2NhbEF2YXRhclVybDogImh0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS91Yz9pZD0xRFBMNldGdm1paEx4b19wRE9jWlpnLWdCSEFnekpMWjIiLAogICAgICB1c2VyOiB7fSwKICAgICAgZXJyb3JzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExvZ2luOiBmdW5jdGlvbiBnZXRMb2dpbigpIHsKICAgICAgZ2V0RGF0YSh0aGlzLCAncmVhZCcpOwogICAgfSwKICAgIGxvZ091dDogZnVuY3Rpb24gbG9nT3V0KCkgewogICAgICB0aGlzLmNsZWFyVXNlcigpOwogICAgfSwKICAgIGFwcGx5Rm9yQWNjb3VudDogZnVuY3Rpb24gYXBwbHlGb3JBY2NvdW50KCkgewogICAgICB0aGlzLnNpZ25VcCA9IHRydWU7CiAgICB9LAogICAgZ2V0QWNjb3VudDogZnVuY3Rpb24gZ2V0QWNjb3VudCgpIHsKICAgICAgZ2V0RGF0YSh0aGlzLCAnY3JlYXRlJyk7CiAgICB9LAogICAgY2xlYXJVc2VyOiBmdW5jdGlvbiBjbGVhclVzZXIoKSB7CiAgICAgIHRoaXMudXNlciA9IHt9OwogICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuJykuaW5uZXJIVE1MID0gIkxvZyBpbiI7CiAgICAgIHRoaXMubG9jYWxBdmF0YXJVcmwgPSB0aGlzLmRlZmF1bHRBdmF0YXJVcmw7CiAgICB9LAogICAgdXBkYXRlUHJvZmlsZTogZnVuY3Rpb24gdXBkYXRlUHJvZmlsZSgpIHsKICAgICAgZ2V0RGF0YSh0aGlzLCAndXBkYXRlJyk7CiAgICB9LAogICAgZGVsZXRlUHJvZmlsZTogZnVuY3Rpb24gZGVsZXRlUHJvZmlsZSgpIHsKICAgICAgaWYgKGNvbmZpcm0oIkRvIHlvdSByZWFsbHkgd2FudCB0byByZW1vdmUgeW91ciBhY2NvdW50PyBUaGlzIGNhbiBub3QgYmUgdW5kb25lISIpKSB7CiAgICAgICAgZ2V0RGF0YSh0aGlzLCAnZGVsZXRlJyk7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0ZUlucHV0OiBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0KCkgey8vdG9kbwogICAgICAvL2lmKHRoaXMudXNlci5OYW1lKQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKGxvY2FsU3RvcmFnZS51c2VyKSB7CiAgICAgIHRoaXMudXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnVzZXIpOwogICAgICBpZiAodGhpcy51c2VyLkF2YXRhclVybCAmJiB0aGlzLnVzZXIuQXZhdGFyVXJsLmxlbmd0aCA+IDUpIHRoaXMubG9jYWxBdmF0YXJVcmwgPSB0aGlzLnVzZXIuQXZhdGFyVXJsOwogICAgICBpZiAodGhpcy51c2VyLk5hbWUpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bicpLmlubmVySFRNTCA9IHRoaXMudXNlci5OYW1lOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n <div id=\"login\">\n    <section id=\"banner\" class=\"banner\">\n<!--<Error class=\"\" v-bind:img=\"status\" v-show=\"errors.length>0\" />-->\n\n \n        <div class=\"content\" v-if=\"user && user.Token && !signUp\">\n            <h1>Profile</h1>\n            <p><input type=\"text\" disabled name=\"loggedInName\" id=\"loggedInUserName\" value=\"\" placeholder=\"Name\" autocomplete=\"off\" v-model=\"user.Username\"></p>\n            <p><input type=\"text\" name=\"loggedInName\" id=\"loggedInName\" value=\"\" placeholder=\"First name\" autocomplete=\"off\"  v-model=\"user.Name\"></p>\n            <p><input type=\"text\" name=\"loggedInLastName\" id=\"loggedInLastName\" value=\"\" placeholder=\"Last name\" v-model=\"user.LastName\"></p>\n            <p><input type=\"email\" name=\"Email\" id=\"emailProfile\" value=\"\" placeholder=\"E-mail\" v-model=\"user.Email\"></p>\n            <p><input type=\"url\" name=\"AvatarUrl\" id=\"avatarUrl\" value=\"\" placeholder=\"Avatar Url\" v-model=\"user.AvatarUrl\" ></p>\n            <ul class=\"actions\">\n                <li><a href=\"#\" class=\"button primary\" v-on:click=\"updateProfile()\">Update</a></li>\n                <li><a href=\"#\" class=\"button\" v-on:click=\"logOut()\">Log out</a></li>\n                <li><a href=\"#\" class=\"button\" v-on:click=\"deleteProfile()\">Delete profile</a></li>\n            </ul>\n        </div>\n\n        <div class=\"content\" v-if=\"!user || !user.Token && !signUp\">\n\n                <h1>Login</h1>\n                <p><input type=\"text\" name=\"loginName\" id=\"loginName\" value=\"\" placeholder=\"Username\" v-model=\"user.Username\"></p>\n                <p><input type=\"password\" name=\"Password\" id=\"Password\" value=\"\" placeholder=\"Password\" v-model=\"user.Password\"></p>\n                <ul class=\"actions\">\n                    <li><a href=\"#\" class=\"button primary\" v-on:click=\"getLogin()\">Login</a></li>\n                    <li><a href=\"#\" class=\"button\" v-on:click=\"applyForAccount()\">Sign up</a></li>\n                </ul>\n        </div>\n\n        <div class=\"content\" v-if=\"signUp\">\n\n                <h1>Sign up</h1>\n                <p><input type=\"text\" name=\"loginName\" id=\"loginName\" value=\"\" placeholder=\"Username\" v-model=\"user.Username\"></p>\n                <p><input type=\"text\" name=\"loggedInName\" id=\"loggedInName\" value=\"\" placeholder=\"First name\" v-model=\"user.Name\"></p>\n                <p><input type=\"text\" name=\"loggedInLastName\" id=\"loggedInLastName\" value=\"\" placeholder=\"Last name\" v-model=\"user.LastName\"></p>\n                \n                <p><input type=\"password\" name=\"Password\" id=\"Password\" value=\"\" placeholder=\"Password\" v-model=\"user.Password\"></p>\n                <p><input type=\"email\" name=\"Email\" id=\"email\" value=\"\" placeholder=\"E-mail\" v-model=\"user.Email\"></p>\n                <ul class=\"actions\">\n                    <li><a href=\"#\" class=\"button primary\" v-on:click=\"getAccount()\">Sign up</a></li>\n                    <li><a href=\"#\" class=\"button\" v-on:click=\"signUp=false\">Login</a></li>\n                </ul>\n                \n        </div>\n\n        <span class=\"image object\" v-if=\"errors.length ==0\">\n            <img v-bind:src=\"localAvatarUrl\" v-bind:alt=\"user.Name\" />\n        </span>\n        <span  class=\"image object\" v-show=\"errors.length>0\">\n            <ul id=\"err\" class=\"\" v-for=\"item in errors\" :key=\"item.index\" style=\"color:red;margin: 0 0 0 0\">\n                <li>{{ item }}</li>\n            </ul>   \n        </span>\n    </section>\n<Status class=\"StatusShow\" v-bind:img=\"status\" v-show=\"loading\" />        \n\n</div>\n\n</template>\n\n\n<style >\n\n</style>\n\n<script>\nimport axios from 'axios';\nimport Status from '@/components/Status.vue'\n\n\nasync function getData(viewStatus,action)\n{\n\n    viewStatus.loading = true;\n    viewStatus.errors = [];\n    const config = \n    {\n        headers: \n        {\n        }\n    }\n\n    const formData = new FormData();\n    formData.append('action', action);\n    formData.append('data', JSON.stringify(viewStatus.user));\n\n    //alert(\"action:\"+action+\":userin:\"+JSON.stringify(viewStatus.user));\n\n    await axios.post (viewStatus.$baseUrl, formData, config)\n            .then(response => \n            {\n                //alert(baseUrl);\n                //alert('response:'+JSON.stringify(response))\n                if(response.data.errors)\n                {\n                    for(var i=0; i<response.data.errors.length;i++)\n                    {\n                        viewStatus.errors.push(response.data.errors[i]);\n                    }\n                    viewStatus.loading = false;\n                    return;\n                }\n                if(action == 'delete')\n                {\n                    viewStatus.clearUser();\n                    viewStatus.loading = false;\n                    return;\n                }\n                //multiple record return\n                var userFound = false;\n                if(action == \"read\" && response.data.records[0])\n                {\n                    viewStatus.user = response.data.records[0].fields;\n                    userFound = true;\n                }\n                if(action == \"read\" && !userFound)\n                {\n                    //login failed\n                    viewStatus.errors.push(\"Login failed\");\n                }\n\n                //single record return\n                if((action == \"create\" || action == \"update\") && response.data.fields)\n                {\n                    viewStatus.user = response.data.fields;  \n                    userFound = true;\n                } \n\n                if(userFound)\n                {\n                    //store in browser\n                    sessionStorage.user = JSON.stringify(viewStatus.user)\n                    localStorage.user = JSON.stringify(viewStatus.user)\n                    //update login/profile label\n                    if(viewStatus.user.Name) document.getElementById('un').innerHTML = viewStatus.user.Name;\n                    viewStatus.signUp = false;\n                    if(viewStatus.user.AvatarUrl && viewStatus.user.AvatarUrl != \"\")\n                    {\n                        viewStatus.localAvatarUrl = viewStatus.user.AvatarUrl;\n                    }\n                }\n                else\n                {\n                    //alert(response.data);\n                    viewStatus.errors.push(\"User not found\");\n                    document.getElementById('un').innerHTML = \"Login\";\n                }\n\n                viewStatus.loading = false;\n\n            }).catch\n            (\n                function (error) \n                {\n                    console.log(error);\n                    //alert(error);\n                    viewStatus.errors.push(\"An error occored\");\n                    viewStatus.loading = false;\n                }\n            )\n}\n\nexport default \n{\n    name: \"login\",\n    components: {Status},\n\n    data() \n    {\n    return {\n        data: null,\n        status: \"\",\n        signUp: false,\n        table: \"User\",\n        loading: false,\n        defaultAvatarUrl: \"https://drive.google.com/uc?id=1DPL6WFvmihLxo_pDOcZZg-gBHAgzJLZ2\",\n        localAvatarUrl: \"https://drive.google.com/uc?id=1DPL6WFvmihLxo_pDOcZZg-gBHAgzJLZ2\",\n        user: {},\n        errors: []\n        }\n    },\n    methods:\n    {\n        getLogin: function()\n        {\n            getData(this, 'read');\n        },\n        logOut: function()\n        {\n            this.clearUser();\n            \n        },\n        applyForAccount: function()\n        {\n            this.signUp = true;\n        },\n        getAccount: function()\n        {\n            getData(this, 'create');\n        },\n        clearUser: function()\n        {\n            this.user = {};\n            localStorage.clear();\n            sessionStorage.clear();\n            document.getElementById('un').innerHTML = \"Log in\";\n            this.localAvatarUrl = this.defaultAvatarUrl;\n\n        },\n        updateProfile: function()\n        {\n        \n            getData(this, 'update');\n            \n        },\n        deleteProfile: function()\n        {\n            if(confirm(\"Do you really want to remove your account? This can not be undone!\"))\n            {\n                getData(this, 'delete');\n            }\n            \n        },\n        validateInput: function()\n        {\n            //todo\n            //if(this.user.Name)\n        }\n    },\n    computed: {\n\n  },\n  mounted()\n  {\n     \n  },\n  \n    created() \n    {\n\n     \tif(localStorage.user)\n        {\n            this.user = JSON.parse(localStorage.user);\n            \n            if(this.user.AvatarUrl && this.user.AvatarUrl.length >5) this.localAvatarUrl = this.user.AvatarUrl;\n            if(this.user.Name) document.getElementById('un').innerHTML = this.user.Name;\n        }\n  \n    }\n}\n\n\n</script>\n\n\n"],"sourceRoot":"src/views"}]}