{"remainingRequest":"/Users/frankkroondijk/Documents/VueDev/rurallivinglab/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/frankkroondijk/Documents/VueDev/rurallivinglab/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/frankkroondijk/Documents/VueDev/rurallivinglab/src/views/Login.vue","mtime":1587844335156},{"path":"/Users/frankkroondijk/Documents/VueDev/rurallivinglab/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/rurallivinglab/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/rurallivinglab/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBTdGF0dXMgZnJvbSAnQC9jb21wb25lbnRzL1N0YXR1cy52dWUnCgoKYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YSh2aWV3U3RhdHVzLGFjdGlvbikKewoKICAgIHZpZXdTdGF0dXMubG9hZGluZyA9IHRydWU7CiAgICB2aWV3U3RhdHVzLmVycm9ycyA9IFtdOwogICAgY29uc3QgY29uZmlnID0gCiAgICB7CiAgICAgICAgaGVhZGVyczogCiAgICAgICAgewogICAgICAgIH0KICAgIH0KCiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgZm9ybURhdGEuYXBwZW5kKCdhY3Rpb24nLCBhY3Rpb24pOwogICAgZm9ybURhdGEuYXBwZW5kKCdkYXRhJywgSlNPTi5zdHJpbmdpZnkodmlld1N0YXR1cy51c2VyKSk7CgogICAgLy9hbGVydCgiYWN0aW9uOiIrYWN0aW9uKyI6dXNlcmluOiIrSlNPTi5zdHJpbmdpZnkodmlld1N0YXR1cy51c2VyKSk7CgogICAgYXdhaXQgYXhpb3MucG9zdCAodmlld1N0YXR1cy4kYmFzZVVybCwgZm9ybURhdGEsIGNvbmZpZykKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8vYWxlcnQoYmFzZVVybCk7CiAgICAgICAgICAgICAgICAvL2FsZXJ0KCdyZXNwb25zZTonK0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSkKICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEuZXJyb3JzKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPHJlc3BvbnNlLmRhdGEuZXJyb3JzLmxlbmd0aDtpKyspCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLmVycm9ycy5wdXNoKHJlc3BvbnNlLmRhdGEuZXJyb3JzW2ldKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmlld1N0YXR1cy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoYWN0aW9uID09ICdkZWxldGUnKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMuY2xlYXJVc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgdmlld1N0YXR1cy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy9tdWx0aXBsZSByZWNvcmQgcmV0dXJuCiAgICAgICAgICAgICAgICB2YXIgdXNlckZvdW5kID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZihhY3Rpb24gPT0gImxvZ2luIiAmJiByZXNwb25zZS5kYXRhLnJlY29yZHNbMF0pCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdmlld1N0YXR1cy51c2VyID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzWzBdLmZpZWxkczsKICAgICAgICAgICAgICAgICAgICB1c2VyRm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoYWN0aW9uID09ICJsb2dpbiIgJiYgIXVzZXJGb3VuZCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvL2xvZ2luIGZhaWxlZAogICAgICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMuZXJyb3JzLnB1c2goIkxvZ2luIGZhaWxlZCIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vc2luZ2xlIHJlY29yZCByZXR1cm4KICAgICAgICAgICAgICAgIGlmKChhY3Rpb24gPT0gImNyZWF0ZSIgfHwgYWN0aW9uID09ICJ1cGRhdGUiKSAmJiByZXNwb25zZS5kYXRhLmZpZWxkcykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLnVzZXIgPSByZXNwb25zZS5kYXRhLmZpZWxkczsgIAogICAgICAgICAgICAgICAgICAgIHVzZXJGb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9IAoKICAgICAgICAgICAgICAgIGlmKHVzZXJGb3VuZCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvL3N0b3JlIGluIGJyb3dzZXIKICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS51c2VyID0gSlNPTi5zdHJpbmdpZnkodmlld1N0YXR1cy51c2VyKQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS51c2VyID0gSlNPTi5zdHJpbmdpZnkodmlld1N0YXR1cy51c2VyKQogICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIGxvZ2luL3Byb2ZpbGUgbGFiZWwKICAgICAgICAgICAgICAgICAgICBpZih2aWV3U3RhdHVzLnVzZXIuTmFtZSkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuJykuaW5uZXJIVE1MID0gdmlld1N0YXR1cy51c2VyLk5hbWU7CiAgICAgICAgICAgICAgICAgICAgdmlld1N0YXR1cy5zaWduVXAgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBpZih2aWV3U3RhdHVzLnVzZXIuQXZhdGFyVXJsICYmIHZpZXdTdGF0dXMudXNlci5BdmF0YXJVcmwgIT0gIiIpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLmxvY2FsQXZhdGFyVXJsID0gdmlld1N0YXR1cy51c2VyLkF2YXRhclVybDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy9hbGVydChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLmVycm9ycy5wdXNoKCJVc2VyIG5vdCBmb3VuZCIpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bicpLmlubmVySFRNTCA9ICJMb2dpbiI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmlld1N0YXR1cy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICB9KS5jYXRjaAogICAgICAgICAgICAoCiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLmVycm9ycy5wdXNoKCJBbiBlcnJvciBvY2NvcmVkIik7CiAgICAgICAgICAgICAgICAgICAgdmlld1N0YXR1cy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKfQoKZXhwb3J0IGRlZmF1bHQgCnsKICAgIG5hbWU6ICJsb2dpbiIsCiAgICBjb21wb25lbnRzOiB7U3RhdHVzfSwKCiAgICBkYXRhKCkgCiAgICB7CiAgICByZXR1cm4gewogICAgICAgIGRhdGE6IG51bGwsCiAgICAgICAgc3RhdHVzOiAiIiwKICAgICAgICBzaWduVXA6IGZhbHNlLAogICAgICAgIHRhYmxlOiAiVXNlciIsCiAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgZGVmYXVsdEF2YXRhclVybDogImh0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS91Yz9pZD0xRFBMNldGdm1paEx4b19wRE9jWlpnLWdCSEFnekpMWjIiLAogICAgICAgIGxvY2FsQXZhdGFyVXJsOiAiaHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL3VjP2lkPTFEUEw2V0Z2bWloTHhvX3BET2NaWmctZ0JIQWd6SkxaMiIsCiAgICAgICAgdXNlcjoge30sCiAgICAgICAgZXJyb3JzOiBbXQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOgogICAgewogICAgICAgIGdldExvZ2luOiBmdW5jdGlvbigpCiAgICAgICAgewogICAgICAgICAgICBnZXREYXRhKHRoaXMsICdsb2dpbicpOwogICAgICAgIH0sCiAgICAgICAgbG9nT3V0OiBmdW5jdGlvbigpCiAgICAgICAgewogICAgICAgICAgICB0aGlzLmNsZWFyVXNlcigpOwogICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIGFwcGx5Rm9yQWNjb3VudDogZnVuY3Rpb24oKQogICAgICAgIHsKICAgICAgICAgICAgdGhpcy5zaWduVXAgPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgZ2V0QWNjb3VudDogZnVuY3Rpb24oKQogICAgICAgIHsKICAgICAgICAgICAgZ2V0RGF0YSh0aGlzLCAnY3JlYXRlJyk7CiAgICAgICAgfSwKICAgICAgICBjbGVhclVzZXI6IGZ1bmN0aW9uKCkKICAgICAgICB7CiAgICAgICAgICAgIHRoaXMudXNlciA9IHt9OwogICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuJykuaW5uZXJIVE1MID0gIkxvZyBpbiI7CiAgICAgICAgICAgIHRoaXMubG9jYWxBdmF0YXJVcmwgPSB0aGlzLmRlZmF1bHRBdmF0YXJVcmw7CgogICAgICAgIH0sCiAgICAgICAgdXBkYXRlUHJvZmlsZTogZnVuY3Rpb24oKQogICAgICAgIHsKICAgICAgICAKICAgICAgICAgICAgZ2V0RGF0YSh0aGlzLCAndXBkYXRlJyk7CiAgICAgICAgICAgIAogICAgICAgIH0sCiAgICAgICAgZGVsZXRlUHJvZmlsZTogZnVuY3Rpb24oKQogICAgICAgIHsKICAgICAgICAgICAgaWYoY29uZmlybSgiRG8geW91IHJlYWxseSB3YW50IHRvIHJlbW92ZSB5b3VyIGFjY291bnQ/IFRoaXMgY2FuIG5vdCBiZSB1bmRvbmUhIikpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGdldERhdGEodGhpcywgJ2RlbGV0ZScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIH0sCiAgICAgICAgdmFsaWRhdGVJbnB1dDogZnVuY3Rpb24oKQogICAgICAgIHsKICAgICAgICAgICAgLy90b2RvCiAgICAgICAgICAgIC8vaWYodGhpcy51c2VyLk5hbWUpCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CgogIH0sCiAgbW91bnRlZCgpCiAgewogICAgIAogIH0sCiAgCiAgICBjcmVhdGVkKCkgCiAgICB7CgogICAgIAlpZihsb2NhbFN0b3JhZ2UudXNlcikKICAgICAgICB7CiAgICAgICAgICAgIHRoaXMudXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnVzZXIpOwoKICAgICAgICAgICAgaWYodGhpcy51c2VyLk5hbWUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bicpLmlubmVySFRNTCA9IHRoaXMudXNlci5OYW1lOwogICAgICAgICAgICB9CiAgICAgICAgfQogIAogICAgfQp9CgoK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n <div id=\"login\">\n    <section id=\"banner\" class=\"banner\">\n<!--<Error class=\"\" v-bind:img=\"status\" v-show=\"errors.length>0\" />-->\n\n \n        <div class=\"content\" v-if=\"user && user.Token && !signUp\">\n            <h1>Profile</h1>\n            <p><input type=\"text\" disabled name=\"loggedInName\" id=\"loggedInUserName\" value=\"\" placeholder=\"Name\" autocomplete=\"off\" v-model=\"user.Username\"></p>\n            <p><input type=\"text\" name=\"loggedInName\" id=\"loggedInName\" value=\"\" placeholder=\"First name\" autocomplete=\"off\"  v-model=\"user.Name\"></p>\n            <p><input type=\"text\" name=\"loggedInLastName\" id=\"loggedInLastName\" value=\"\" placeholder=\"Last name\" v-model=\"user.LastName\"></p>\n            <p><input type=\"email\" name=\"Email\" id=\"emailProfile\" value=\"\" placeholder=\"E-mail\" v-model=\"user.Email\"></p>\n            <p><input type=\"url\" name=\"AvatarUrl\" id=\"avatarUrl\" value=\"\" placeholder=\"Avatar Url\" v-model=\"user.AvatarUrl\" ></p>\n            <ul class=\"actions\">\n                <li><a href=\"#\" class=\"button primary\" v-on:click=\"updateProfile()\">Update</a></li>\n                <li><a href=\"#\" class=\"button\" v-on:click=\"logOut()\">Log out</a></li>\n                <li><a href=\"#\" class=\"button\" v-on:click=\"deleteProfile()\">Delete profile</a></li>\n            </ul>\n        </div>\n\n        <div class=\"content\" v-if=\"!user || !user.Token && !signUp\">\n\n                <h1>Login</h1>\n                <p><input type=\"text\" name=\"loginName\" id=\"loginName\" value=\"\" placeholder=\"Username\" v-model=\"user.Username\"></p>\n                <p><input type=\"password\" name=\"Password\" id=\"Password\" value=\"\" placeholder=\"Password\" v-model=\"user.Password\"></p>\n                <ul class=\"actions\">\n                    <li><a href=\"#\" class=\"button primary\" v-on:click=\"getLogin()\">Login</a></li>\n                    <li><a href=\"#\" class=\"button\" v-on:click=\"applyForAccount()\">Sign up</a></li>\n                </ul>\n        </div>\n\n        <div class=\"content\" v-if=\"signUp\">\n\n                <h1>Sign up</h1>\n                <p><input type=\"text\" name=\"loginName\" id=\"loginName\" value=\"\" placeholder=\"Username\" v-model=\"user.Username\"></p>\n                <p><input type=\"text\" name=\"loggedInName\" id=\"loggedInName\" value=\"\" placeholder=\"First name\" v-model=\"user.Name\"></p>\n                <p><input type=\"text\" name=\"loggedInLastName\" id=\"loggedInLastName\" value=\"\" placeholder=\"Last name\" v-model=\"user.LastName\"></p>\n                \n                <p><input type=\"password\" name=\"Password\" id=\"Password\" value=\"\" placeholder=\"Password\" v-model=\"user.Password\"></p>\n                <p><input type=\"email\" name=\"Email\" id=\"email\" value=\"\" placeholder=\"E-mail\" v-model=\"user.Email\"></p>\n                <ul class=\"actions\">\n                    <li><a href=\"#\" class=\"button primary\" v-on:click=\"getAccount()\">Sign up</a></li>\n                    <li><a href=\"#\" class=\"button\" v-on:click=\"signUp=false\">Login</a></li>\n                </ul>\n                \n        </div>\n\n        <span class=\"image object\" v-if=\"errors.length ==0\">\n            <img v-bind:src=\"localAvatarUrl\" v-bind:alt=\"user.Name\" />\n        </span>\n        <span  class=\"image object\" v-show=\"errors.length>0\">\n            <ul id=\"err\" class=\"\" v-for=\"item in errors\" :key=\"item.index\" style=\"color:red;margin: 0 0 0 0\">\n                <li>{{ item }}</li>\n            </ul>   \n        </span>\n    </section>\n<Status class=\"StatusShow\" v-bind:img=\"status\" v-show=\"loading\" />        \n\n</div>\n\n</template>\n\n\n<style >\n\n</style>\n\n<script>\nimport axios from 'axios';\nimport Status from '@/components/Status.vue'\n\n\nasync function getData(viewStatus,action)\n{\n\n    viewStatus.loading = true;\n    viewStatus.errors = [];\n    const config = \n    {\n        headers: \n        {\n        }\n    }\n\n    const formData = new FormData();\n    formData.append('action', action);\n    formData.append('data', JSON.stringify(viewStatus.user));\n\n    //alert(\"action:\"+action+\":userin:\"+JSON.stringify(viewStatus.user));\n\n    await axios.post (viewStatus.$baseUrl, formData, config)\n            .then(response => \n            {\n                //alert(baseUrl);\n                //alert('response:'+JSON.stringify(response))\n                if(response.data.errors)\n                {\n                    for(var i=0; i<response.data.errors.length;i++)\n                    {\n                        viewStatus.errors.push(response.data.errors[i]);\n                    }\n                    viewStatus.loading = false;\n                    return;\n                }\n                if(action == 'delete')\n                {\n                    viewStatus.clearUser();\n                    viewStatus.loading = false;\n                    return;\n                }\n                //multiple record return\n                var userFound = false;\n                if(action == \"login\" && response.data.records[0])\n                {\n                    viewStatus.user = response.data.records[0].fields;\n                    userFound = true;\n                }\n                if(action == \"login\" && !userFound)\n                {\n                    //login failed\n                    viewStatus.errors.push(\"Login failed\");\n                }\n\n                //single record return\n                if((action == \"create\" || action == \"update\") && response.data.fields)\n                {\n                    viewStatus.user = response.data.fields;  \n                    userFound = true;\n                } \n\n                if(userFound)\n                {\n                    //store in browser\n                    sessionStorage.user = JSON.stringify(viewStatus.user)\n                    localStorage.user = JSON.stringify(viewStatus.user)\n                    //update login/profile label\n                    if(viewStatus.user.Name) document.getElementById('un').innerHTML = viewStatus.user.Name;\n                    viewStatus.signUp = false;\n                    if(viewStatus.user.AvatarUrl && viewStatus.user.AvatarUrl != \"\")\n                    {\n                        viewStatus.localAvatarUrl = viewStatus.user.AvatarUrl;\n                    }\n                }\n                else\n                {\n                    //alert(response.data);\n                    viewStatus.errors.push(\"User not found\");\n                    document.getElementById('un').innerHTML = \"Login\";\n                }\n\n                viewStatus.loading = false;\n\n            }).catch\n            (\n                function (error) \n                {\n                    console.log(error);\n                    //alert(error);\n                    viewStatus.errors.push(\"An error occored\");\n                    viewStatus.loading = false;\n                }\n            )\n}\n\nexport default \n{\n    name: \"login\",\n    components: {Status},\n\n    data() \n    {\n    return {\n        data: null,\n        status: \"\",\n        signUp: false,\n        table: \"User\",\n        loading: false,\n        defaultAvatarUrl: \"https://drive.google.com/uc?id=1DPL6WFvmihLxo_pDOcZZg-gBHAgzJLZ2\",\n        localAvatarUrl: \"https://drive.google.com/uc?id=1DPL6WFvmihLxo_pDOcZZg-gBHAgzJLZ2\",\n        user: {},\n        errors: []\n        }\n    },\n    methods:\n    {\n        getLogin: function()\n        {\n            getData(this, 'login');\n        },\n        logOut: function()\n        {\n            this.clearUser();\n            \n        },\n        applyForAccount: function()\n        {\n            this.signUp = true;\n        },\n        getAccount: function()\n        {\n            getData(this, 'create');\n        },\n        clearUser: function()\n        {\n            this.user = {};\n            localStorage.clear();\n            sessionStorage.clear();\n            document.getElementById('un').innerHTML = \"Log in\";\n            this.localAvatarUrl = this.defaultAvatarUrl;\n\n        },\n        updateProfile: function()\n        {\n        \n            getData(this, 'update');\n            \n        },\n        deleteProfile: function()\n        {\n            if(confirm(\"Do you really want to remove your account? This can not be undone!\"))\n            {\n                getData(this, 'delete');\n            }\n            \n        },\n        validateInput: function()\n        {\n            //todo\n            //if(this.user.Name)\n        }\n    },\n    computed: {\n\n  },\n  mounted()\n  {\n     \n  },\n  \n    created() \n    {\n\n     \tif(localStorage.user)\n        {\n            this.user = JSON.parse(localStorage.user);\n\n            if(this.user.Name)\n            {\n                document.getElementById('un').innerHTML = this.user.Name;\n            }\n        }\n  \n    }\n}\n\n\n</script>\n\n\n"]}]}