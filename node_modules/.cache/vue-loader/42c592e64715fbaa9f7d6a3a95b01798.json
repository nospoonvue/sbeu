{"remainingRequest":"/Users/frankkroondijk/Documents/VueDev/Starbase18/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/frankkroondijk/Documents/VueDev/Starbase18/src/components/DataConnection.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/frankkroondijk/Documents/VueDev/Starbase18/src/components/DataConnection.vue","mtime":1615674604103},{"path":"/Users/frankkroondijk/Documents/VueDev/Starbase18/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/Starbase18/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/Starbase18/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/Starbase18/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/Starbase18/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBTdGF0dXMgZnJvbSAnQC9jb21wb25lbnRzL1N0YXR1cy52dWUnCgphc3luYyBmdW5jdGlvbiBnZXREYXRhKHZpZXdTdGF0dXMpCnsKCiAgICBjb25zdCBjb25maWcgPSAKICAgIHsKICAgICAgICBoZWFkZXJzOiAKICAgICAgICB7ICAgICAgICAgICAgCiAgICAgICAgfQogICAgfQoKICAgIHZhciBzZXR0aW5ncyA9IHsKICAgICAgICAnYXBwbGljYXRpb24nOiB2aWV3U3RhdHVzLmFwcGxpY2F0aW9uLAogICAgICAgICd0YWJsZSc6IHZpZXdTdGF0dXMudGFibGUsCiAgICAgICAgJ3ZpZXcnOiB2aWV3U3RhdHVzLnZpZXcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgIH0KCmlmKHZpZXdTdGF0dXMuZmlsdGVyKSBzZXR0aW5ncy5maWx0ZXIgPSB2aWV3U3RhdHVzLmZpbHRlcgppZih2aWV3U3RhdHVzLnBhZ2luZykKICAgIHsKICAgICAgICAgc2V0dGluZ3Mub2Zmc2V0ID0gdmlld1N0YXR1cy5vZmZzZXQ7CiAgICAgICAgIHNldHRpbmdzLnBhZ2VTaXplID0gdmlld1N0YXR1cy5wYWdlU2l6ZTsKICAgIH0KCiBpZih2aWV3U3RhdHVzLiRyb3V0ZS5xdWVyeS5zdGFnaW5nKSBzZXR0aW5ncy52aWV3ID0gIlN0YWdpbmciOwoKY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKZm9ybURhdGEuYXBwZW5kKCdkYXRhJywgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpKTsKZm9ybURhdGEuYXBwZW5kKCdhY3Rpb24nLCAndmlldycpOwovL2FsZXJ0KEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSk7Ci8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpKTsKdmlld1N0YXR1cy5sb2FkaW5nID0gdHJ1ZTsKYXdhaXQgYXhpb3MucG9zdCAodmlld1N0YXR1cy4kYmFzZVVybCwgZm9ybURhdGEsIGNvbmZpZykKICAgICAgICAudGhlbihyZXNwb25zZSA9PiAKICAgICAgICB7CiAgICAgICAgICAgIHZpZXdTdGF0dXMucGFyZW50LmluZm8gPSByZXNwb25zZS5kYXRhLnJlY29yZHM7CiAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEub2Zmc2V0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLnBhcmVudC5vZmZzZXQgPSByZXNwb25zZS5kYXRhLm9mZnNldDsKICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMucGFyZW50LnJlYWR5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHZpZXdTdGF0dXMucmVhZHkgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICB2aWV3U3RhdHVzLnBhcmVudC5vZmZzZXQgPSAtMTsgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIHZpZXdTdGF0dXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICB9KS5jYXRjaAogICAgICAgICgKICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSAKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgICAgICAvL3ZpZXdTdGF0dXMuc3RhdHVzID0gZXJyb3I7CiAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICkKfQoKZXhwb3J0IGRlZmF1bHQgCnsKICAgIG5hbWU6ICJEYXRhQ29ubmV0aW9uIiwKICAgIGNvbXBvbmVudHM6IHtTdGF0dXN9LAoKICAgIGRhdGEoKSAKICAgIHsKICAgIHJldHVybiB7CiAgICAgICAgaW5mbzogbnVsbCwKICAgICAgICByZWFkeTogZmFsc2UsCiAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgb2Zmc2V0SGlzdG9yeUN1cnNvcjogMCwKICAgICAgICBvZmZzZXRIaXN0b3J5OiBbXSAgICAgICAgCiAgICAgICAgfQogICAgfSwKICAgIHByb3BzOiB7CiAgICAgICAgcGFyZW50OiBudWxsLAogICAgICAgIHBhZ2U6IHsgZGVmYXVsdDogIkFib3V0IiwgdHlwZTogU3RyaW5nICB9LAogICAgICAgIGFwcGxpY2F0aW9uOiBudWxsLAogICAgICAgIHRhYmxlOiBudWxsLAogICAgICAgIHZpZXc6IG51bGwsCiAgICAgICAgcGFnaW5nOiBudWxsLAogICAgICAgIHBhZ2VTaXplOiBudWxsLAogICAgICAgIG9mZnNldDogbnVsbCwKICAgICAgICBmaWx0ZXI6IG51bGwKICAgIH0sCiAgICBjcmVhdGVkKCkgCiAgICB7ICAgIAogICAgICAgIHRoaXMub2Zmc2V0SGlzdG9yeVswXT0iIjsKICAgICAgICBnZXREYXRhKHRoaXMpOwogICAgfSwKfQoKCg=="},{"version":3,"sources":["DataConnection.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataConnection.vue","sourceRoot":"src/components","sourcesContent":["<template>\n <div id=\"dataConnection\">\n    <Status class=\"StatusShow\" v-show=\"loading\" />\n    </div>\n</template>\n\n<style >\n</style>\n\n<script>\nimport axios from 'axios';\nimport Status from '@/components/Status.vue'\n\nasync function getData(viewStatus)\n{\n\n    const config = \n    {\n        headers: \n        {            \n        }\n    }\n\n    var settings = {\n        'application': viewStatus.application,\n        'table': viewStatus.table,\n        'view': viewStatus.view                                                \n    }\n\nif(viewStatus.filter) settings.filter = viewStatus.filter\nif(viewStatus.paging)\n    {\n         settings.offset = viewStatus.offset;\n         settings.pageSize = viewStatus.pageSize;\n    }\n\n if(viewStatus.$route.query.staging) settings.view = \"Staging\";\n\nconst formData = new FormData();\nformData.append('data', JSON.stringify(settings));\nformData.append('action', 'view');\n//alert(JSON.stringify(settings));\n//console.log(JSON.stringify(settings));\nviewStatus.loading = true;\nawait axios.post (viewStatus.$baseUrl, formData, config)\n        .then(response => \n        {\n            viewStatus.parent.info = response.data.records;\n            if(response.data.offset)\n            {\n                viewStatus.parent.offset = response.data.offset;\n                viewStatus.parent.ready = true;\n                viewStatus.ready = true;\n            }\n            else\n            {\n               viewStatus.parent.offset = -1;              \n            }\n            viewStatus.loading = false;\n\n        }).catch\n        (\n            function (error) \n            {\n                console.log(error)\n                //viewStatus.status = error;\n                viewStatus.loading = false;\n            }\n        )\n}\n\nexport default \n{\n    name: \"DataConnetion\",\n    components: {Status},\n\n    data() \n    {\n    return {\n        info: null,\n        ready: false,\n        loading: false,\n        offsetHistoryCursor: 0,\n        offsetHistory: []        \n        }\n    },\n    props: {\n        parent: null,\n        page: { default: \"About\", type: String  },\n        application: null,\n        table: null,\n        view: null,\n        paging: null,\n        pageSize: null,\n        offset: null,\n        filter: null\n    },\n    created() \n    {    \n        this.offsetHistory[0]=\"\";\n        getData(this);\n    },\n}\n\n\n</script>\n\n\n"]}]}