{"remainingRequest":"/Users/frankkroondijk/Documents/VueDev/Starbase18/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/frankkroondijk/Documents/VueDev/Starbase18/src/components/DataConnection.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/frankkroondijk/Documents/VueDev/Starbase18/src/components/DataConnection.vue","mtime":1615674529697},{"path":"/Users/frankkroondijk/Documents/VueDev/Starbase18/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/Starbase18/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/Starbase18/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frankkroondijk/Documents/VueDev/Starbase18/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBTdGF0dXMgZnJvbSAnQC9jb21wb25lbnRzL1N0YXR1cy52dWUnCgphc3luYyBmdW5jdGlvbiBnZXREYXRhKHZpZXdTdGF0dXMpCnsKCiAgICBjb25zdCBjb25maWcgPSAKICAgIHsKICAgICAgICBoZWFkZXJzOiAKICAgICAgICB7ICAgICAgICAgICAgCiAgICAgICAgfQogICAgfQoKICAgIHZhciBzZXR0aW5ncyA9IHsKICAgICAgICAnYXBwbGljYXRpb24nOiB2aWV3U3RhdHVzLmFwcGxpY2F0aW9uLAogICAgICAgICd0YWJsZSc6IHZpZXdTdGF0dXMudGFibGUsCiAgICAgICAgJ3ZpZXcnOiB2aWV3U3RhdHVzLnZpZXcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgIH0KCmlmKHZpZXdTdGF0dXMuZmlsdGVyKSBzZXR0aW5ncy5maWx0ZXIgPSB2aWV3U3RhdHVzLmZpbHRlcgppZih2aWV3U3RhdHVzLnBhZ2luZykKICAgIHsKICAgICAgICAgc2V0dGluZ3Mub2Zmc2V0ID0gdmlld1N0YXR1cy5vZmZzZXQ7CiAgICAgICAgIHNldHRpbmdzLnBhZ2VTaXplID0gdmlld1N0YXR1cy5wYWdlU2l6ZTsKICAgIH0KCiBpZih2aWV3U3RhdHVzLiRyb3V0ZS5xdWVyeS5zdGFnaW5nKSBzZXR0aW5ncy52aWV3ID0gIlN0YWdpbmciOwoKY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKZm9ybURhdGEuYXBwZW5kKCdkYXRhJywgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpKTsKZm9ybURhdGEuYXBwZW5kKCdhY3Rpb24nLCAndmlldycpOwovL2FsZXJ0KEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSk7CmNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKSk7CnZpZXdTdGF0dXMubG9hZGluZyA9IHRydWU7CmF3YWl0IGF4aW9zLnBvc3QgKHZpZXdTdGF0dXMuJGJhc2VVcmwsIGZvcm1EYXRhLCBjb25maWcpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gCiAgICAgICAgewogICAgICAgICAgICB2aWV3U3RhdHVzLnBhcmVudC5pbmZvID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzOwogICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLm9mZnNldCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmlld1N0YXR1cy5wYXJlbnQub2Zmc2V0ID0gcmVzcG9uc2UuZGF0YS5vZmZzZXQ7CiAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLnBhcmVudC5yZWFkeSA9IHRydWU7CiAgICAgICAgICAgICAgICB2aWV3U3RhdHVzLnJlYWR5ID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgdmlld1N0YXR1cy5wYXJlbnQub2Zmc2V0ID0gLTE7ICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgICB2aWV3U3RhdHVzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgfSkuY2F0Y2gKICAgICAgICAoCiAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgICAgICAgLy92aWV3U3RhdHVzLnN0YXR1cyA9IGVycm9yOwogICAgICAgICAgICAgICAgdmlld1N0YXR1cy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICApCn0KCmV4cG9ydCBkZWZhdWx0IAp7CiAgICBuYW1lOiAiRGF0YUNvbm5ldGlvbiIsCiAgICBjb21wb25lbnRzOiB7U3RhdHVzfSwKCiAgICBkYXRhKCkgCiAgICB7CiAgICByZXR1cm4gewogICAgICAgIGluZm86IG51bGwsCiAgICAgICAgcmVhZHk6IGZhbHNlLAogICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgIG9mZnNldEhpc3RvcnlDdXJzb3I6IDAsCiAgICAgICAgb2Zmc2V0SGlzdG9yeTogW10gICAgICAgIAogICAgICAgIH0KICAgIH0sCiAgICBwcm9wczogewogICAgICAgIHBhcmVudDogbnVsbCwKICAgICAgICBwYWdlOiB7IGRlZmF1bHQ6ICJBYm91dCIsIHR5cGU6IFN0cmluZyAgfSwKICAgICAgICBhcHBsaWNhdGlvbjogbnVsbCwKICAgICAgICB0YWJsZTogbnVsbCwKICAgICAgICB2aWV3OiBudWxsLAogICAgICAgIHBhZ2luZzogbnVsbCwKICAgICAgICBwYWdlU2l6ZTogbnVsbCwKICAgICAgICBvZmZzZXQ6IG51bGwsCiAgICAgICAgZmlsdGVyOiBudWxsCiAgICB9LAogICAgY3JlYXRlZCgpIAogICAgeyAgICAKICAgICAgICB0aGlzLm9mZnNldEhpc3RvcnlbMF09IiI7CiAgICAgICAgZ2V0RGF0YSh0aGlzKTsKICAgIH0sCn0KCgo="},{"version":3,"sources":["DataConnection.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataConnection.vue","sourceRoot":"src/components","sourcesContent":["<template>\n <div id=\"dataConnection\">\n    <Status class=\"StatusShow\" v-show=\"loading\" />\n    </div>\n</template>\n\n<style >\n</style>\n\n<script>\nimport axios from 'axios';\nimport Status from '@/components/Status.vue'\n\nasync function getData(viewStatus)\n{\n\n    const config = \n    {\n        headers: \n        {            \n        }\n    }\n\n    var settings = {\n        'application': viewStatus.application,\n        'table': viewStatus.table,\n        'view': viewStatus.view                                                \n    }\n\nif(viewStatus.filter) settings.filter = viewStatus.filter\nif(viewStatus.paging)\n    {\n         settings.offset = viewStatus.offset;\n         settings.pageSize = viewStatus.pageSize;\n    }\n\n if(viewStatus.$route.query.staging) settings.view = \"Staging\";\n\nconst formData = new FormData();\nformData.append('data', JSON.stringify(settings));\nformData.append('action', 'view');\n//alert(JSON.stringify(settings));\nconsole.log(JSON.stringify(formData));\nviewStatus.loading = true;\nawait axios.post (viewStatus.$baseUrl, formData, config)\n        .then(response => \n        {\n            viewStatus.parent.info = response.data.records;\n            if(response.data.offset)\n            {\n                viewStatus.parent.offset = response.data.offset;\n                viewStatus.parent.ready = true;\n                viewStatus.ready = true;\n            }\n            else\n            {\n               viewStatus.parent.offset = -1;              \n            }\n            viewStatus.loading = false;\n\n        }).catch\n        (\n            function (error) \n            {\n                console.log(error)\n                //viewStatus.status = error;\n                viewStatus.loading = false;\n            }\n        )\n}\n\nexport default \n{\n    name: \"DataConnetion\",\n    components: {Status},\n\n    data() \n    {\n    return {\n        info: null,\n        ready: false,\n        loading: false,\n        offsetHistoryCursor: 0,\n        offsetHistory: []        \n        }\n    },\n    props: {\n        parent: null,\n        page: { default: \"About\", type: String  },\n        application: null,\n        table: null,\n        view: null,\n        paging: null,\n        pageSize: null,\n        offset: null,\n        filter: null\n    },\n    created() \n    {    \n        this.offsetHistory[0]=\"\";\n        getData(this);\n    },\n}\n\n\n</script>\n\n\n"]}]}